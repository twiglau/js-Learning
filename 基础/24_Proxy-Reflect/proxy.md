# Proxy Reflect

## 监听对象的操作

- 先来看一个需求: 有一个对象, 我们希望监听这个对象中的属性被设置或获取的过程

> 通过我们前面所学的知识, 能不能做到这一点呢?
> 其实是可以的, 可以通过之前的属性描述符中的存储属性描述符来做到

- 但是这样做有什么缺点呢?

> 首先 Object.defineProperty 设计的初衷, 不是为了去监听截止一个对象中所有的属性的.
> 我们在定义某些属性的时候, 初衷其实是定义普通的属性, 但是后面我们强行将它变成了数据属性描述符
> 其次,如果我们想监听更加丰富的操作, 比如新增属性, 删除属性, 那么Object.defineProperty是无能为力的
> 存储数据描述符设计的初衷并不是为了去监听一个完整的对象

## Proxy基本使用

- 在ES6中, 新增了一个Proxy类, 这个类从名字就可以看出来, 是用于帮助我们创建一个代理的

> 也就是说, 如果我们希望监听一个对象的相关操作, 那么我们可以先创建一个代理对象(Proxy对象);
> 之后对该对象的所有操作, 都通过代理对象来完成, 代理对象可以监听我们想要对原对象进行哪些操作;

- 我们可以将上面的案例用Proxy来实现一次:

> 首先, 我们需要new Proxy 对象, 并且传入需要侦听的对象以及一个处理对象, 可以称之为handler;
> const p = new Proxy(target, handler)
> 其次, 我们之后的操作都是直接对Proxy的操作, 而不是原有的对象, 因为我们需要在handler里面进行侦听;
